<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Bug Tracker â€” Main</title>

    <link rel="stylesheet" href="./styles/form.css" />
    <link rel="stylesheet" href="./styles/sidebar.css" />
    <link rel="stylesheet" href="./styles/main_interface.css" />

    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
  
  </head>
  <body>
    <div class="app-layout">
      <aside class="sidebar" aria-label="Primary navigation">
        <div class="nav-top">BugTracker</div>

        <nav class="nav-links" aria-label="Sidebar links">
          <a class="nav-link active" href="#" id="nav-dashboard">Dashboard</a>
          <a class="nav-link" href="#" id ="nav-projects">Projects</a>
          <a class="nav-link" href="#" id="nav-teams">Teams</a>
          <a class="nav-link" href="#" id="nav-settings">Settings</a>
        </nav>

        <div class="user-section">
            <span id="currentUserDisplay">Loading user...</span>
        </div>
      </aside>

      <div class="main-area">
        <header class="topbar" role="banner">
          <div class="top-left"></div>

          <div class="top-center">
            <select
              id="teamDropdown"
              class="team-dropdown"
              aria-label="Select team"
            >
              <option value="">Loading teams...</option>
            </select>
          </div>

          <div class="top-right">
            <button id="createBugBtn" style="background-color: #2ecc71;">New Bug</button>
            <button id="editBugBtn" class="btn" disabled style="margin-right: 8px;"> Edit Bug </button>
            <button id="logoutBtn" class="btn logout-btn">Logout</button>
          </div>
        </header>
<main class="content-area">
          <table class="bugs-table">
            <thead>
              <tr>
                <th>Title</th>
                <th>Commit</th>
                <th>Status</th>
                <th>Priority</th> <th>Team</th>
                <th style="text-align: right;">Actions</th> </tr>
            </thead>
            <tbody id="bugsTableBody">
              <tr>
                  <td colspan="6" style="text-align: center; color: var(--text-color);">Loading bugs...</td>
              </tr>
            </tbody>
          </table>

            <div class="pagination" id="paginationWrap" aria-label="Pagination">
            <button id="prevBtn" class="btn" disabled>&lt; Prev</button>
            <span id="pageInfo" class="page-info">Page 1</span>
            <button id="nextBtn" class="btn" disabled>Next &gt;</button>
          </div>
        </main>
      </div>
    </div>
<div id="bugModal" class="modal-overlay">
  <div class="modal-window">
    <h2 id="modalTitle" style="text-align: center; margin-bottom: 20px; color: #fff;">New Bug</h2>
    
    <form id="bugForm">
      <input type="hidden" id="bugIdField">

      <div class="text-input">
        <label for="bugTitle">Title</label>
        <input type="text" id="bugTitle" required placeholder="Short summary" maxlength="255">
      </div>

      <div class="text-input">
        <label for="bugTeam">Team</label>
        <select id="bugTeam" required class="modal-input">
           </select>
      </div>

      <div class="text-input">
        <label for="bugPriority">Priority</label>
        <select id="bugPriority" class="modal-input">
          <option value="LOW">Low</option>
          <option value="MEDIUM" selected>Medium</option>
          <option value="HIGH">High</option>
          <option value="CRITICAL">Critical</option>
        </select>
      </div>

      <div class="text-input">
        <label for="bugDescription">Description</label>
        <textarea id="bugDescription" class="modal-input" placeholder="Steps to reproduce..." style="height: 100px; resize: none; padding-top: 10px;"></textarea>
      </div>
      
      <div class="checkbox" style="margin-top: 10px;">
        <input type="checkbox" id="bugResolved">
        <label for="bugResolved">Mark as Resolved</label>
      </div>

      <div style="display: flex; justify-content: space-between; margin-top: 25px;">
        <button type="button" id="cancelModalBtn" style="background-color: transparent; border: 1px solid rgba(255,255,255,0.3);">Cancel</button>
        <button type="submit" class="btn">Save Bug</button>
      </div>
    </form>
  </div>
</div>
    <script src="./scripts/main_interface.js" defer></script>
  </body>
</html>